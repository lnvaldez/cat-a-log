<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Link Library</title>
    <link rel="stylesheet" href="styles/main.css" />
  </head>
  <body>
    <!-- Navigation -->
    <nav>
      <button onclick="router.navigate('/')">Home</button>
      <button onclick="router.navigate('/create')">Create New Link</button>
    </nav>

    <!-- Content container -->
    <main id="app"></main>

    <!-- Templates -->
    <template id="home-template">
      <h1>Link Library</h1>
      <div class="filter-section">
        <h3>Filter by Tags:</h3>
        <div id="tagFilters"></div>
        <button onclick="clearFilters()">Clear Filters</button>
      </div>
      <div id="links"></div>
    </template>

    <template id="create-template">
      <h1>Create New Link</h1>
      <form id="createLinkForm">
        <div class="form-group">
          <label for="title">Title:</label>
          <input type="text" id="title" required />
        </div>
        <div class="form-group">
          <label for="url">URL:</label>
          <input type="url" id="url" required />
        </div>
        <div class="form-group">
          <label for="description">Description:</label>
          <textarea id="description" rows="4"></textarea>
        </div>
        <div class="form-group">
          <label for="tags">Tags (comma-separated):</label>
          <input type="text" id="tags" />
        </div>
        <button type="submit">Create Link</button>
        <button type="button" onclick="router.navigate('/')">Cancel</button>
      </form>
    </template>

    <template id="edit-template">
      <h1>Edit Link</h1>
      <form id="editLinkForm">
        <div class="form-group">
          <label for="editTitle">Title:</label>
          <input type="text" id="editTitle" required />
        </div>
        <div class="form-group">
          <label for="editUrl">URL:</label>
          <input type="url" id="editUrl" required />
        </div>
        <div class="form-group">
          <label for="editDescription">Description:</label>
          <textarea id="editDescription" rows="4"></textarea>
        </div>
        <div class="form-group">
          <label for="editTags">Tags (comma-separated):</label>
          <input type="text" id="editTags" />
        </div>
        <button type="submit">Update Link</button>
        <button type="button" onclick="router.navigate('/')">Cancel</button>
      </form>
    </template>

    <template id="view-template">
      <div class="container">
        <div class="text-center mb-20">
          <button onclick="router.navigate('/')">Back to List</button>
        </div>

        <div id="linkDetails" class="link-card"></div>

        <div class="votes">
          <h3>Votes: <span id="voteCount">0</span></h3>
          <div class="vote-buttons">
            <button onclick="handleVote(1)">üëç Upvote</button>
            <button onclick="handleVote(-1)" class="delete">üëé Downvote</button>
          </div>
        </div>

        <div class="comments">
          <h3>Comments</h3>
          <form id="commentForm" class="comment-form">
            <div class="form-group">
              <textarea
                id="commentText"
                rows="4"
                placeholder="Write your comment here..."
                required
              ></textarea>
            </div>
            <div class="text-center">
              <button type="submit">Add Comment</button>
            </div>
          </form>
          <div id="commentsList" class="mt-20"></div>
        </div>
      </div>
    </template>

    <script src="js/app.js"></script>
  </body>
</html>
